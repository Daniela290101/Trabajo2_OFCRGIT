proc_data$P33N.C <- car::recode(proc_data$P33N.C, "1=1; 2=2; 3=3; 4=0")
proc_data$P33N.D <- car::recode(proc_data$P33N.D, "1=3; 2=2; 3=1; 4=0")
#etiqueta.
proc_data <- proc_data %>% rename("impacto_inmg"=P32INN,
"impacto_econom"=P33N.A,
"impacto_laboral"=P33ST.B,
"impacto_crimen"=P33N.C,
"impacto_cultural"=P33N.D)
#Proyecto de investigación en base a Latinobarómetro-2023.
#install.packages("weatherData", repos = "http://cran.us.r-project.org")
#install.packages("pacman", repos = "http://cran.us.r-project.org")
pacman::p_load(sjlabelled,
dplyr, #Manipulacion de datos
stargazer, #Tablas
sjmisc, # Tablas
summarytools, # Tablas
kableExtra, #Tablas
sjPlot, #Tablas y gráficos
corrplot, # Correlaciones
sessioninfo, # Información de la sesión de trabajo
ggplot2)
rm(list=ls())
options(scipen=999)
#Cargar BBDD.
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
proc_data <- Latinobarometro_2023_Esp_v1_0 %>% select(P32INN,
P33N.A,
P33ST.B, # competir laboralmente
P33N.C, # aumento del crimen
P33N.D,# carga Estatal
sexo,# sexo
edad,# edad
idenpa) # pais
# Comprobar
names(proc_data)
proc_data <- proc_data %>% dplyr::filter(idenpa==152)
#recodificamos.
proc_data$P32INN <- car::recode(proc_data$P32INN, "c(-5)=NA")
proc_data$P33N.A <- car::recode(proc_data$P33N.A, "c(-5)=NA")
proc_data$P33ST.B <- car::recode(proc_data$P33ST.B, "c(-5)=NA")
proc_data$P33N.C <- car::recode(proc_data$P33N.C, "c(-5)=NA")
proc_data$P33N.D <- car::recode(proc_data$P33N.D, "c(-5)=NA")
#reordenar categorias.
proc_data$P32INN <- car::recode(proc_data$P32INN, "1=3; 2=2; 3=1; 4=0")
proc_data$P33N.A <- car::recode(proc_data$P33N.A, "1=3; 2=2; 3=1; 4=0")
proc_data$P33ST.B <- car::recode(proc_data$P33ST.B, "1=1; 2=2; 3=3; 4=0")
proc_data$P33N.C <- car::recode(proc_data$P33N.C, "1=1; 2=2; 3=3; 4=0")
proc_data$P33N.D <- car::recode(proc_data$P33N.D, "1=3; 2=2; 3=1; 4=0")
#etiqueta.
proc_data <- proc_data %>% rename("impacto_inmg"=P32INN,
"impacto_econom"=P33N.A,
"impacto_laboral"=P33ST.B,
"impacto_crimen"=P33N.C,
"impacto_cultural"=P33N.D)
proc_data$impacto_inmg <- set_label(x = proc_data$impacto_inmg,label = "impacto:inmigracion")
get_label(proc_data$impacto_inmg)
proc_data$impacto_econom <- set_label(x = proc_data$impacto_econom,label = "impacto:economia")
get_label(proc_data$impacto_econom)
proc_data$impacto_crimen <- set_label(x = proc_data$impacto_crimen,label = "impacto:crimen")
get_label(proc_data$impacto_crimen)
proc_data$impacto_laboral <- set_label(x = proc_data$impacto_laboral,label = "impacto:laboral")
get_label(proc_data$impacto_laboral)
proc_data$impacto_cultural <- set_label(x = proc_data$impacto_cultural,label = "impacto:Cultura")
get_label(proc_data$impacto_cultural)
#Crear variable como suma de items.
proc_data$percep_inmg <- (proc_data$impacto_inmg+proc_data$impacto_econom+proc_data$impacto_laboral+proc_data$impacto_crimen+proc_data$impacto_cultural)
summary(proc_data$percep_inmg)
#etiqueta variable nueva.
proc_data$percep_inmg  <- set_label(x = proc_data$percep_inmg, label = "percepcion de inmigracion")
#recodificación categorías.
proc_data$impacto_inmg <- set_labels(proc_data$impacto_inmg,
labels=c( "Ninguna"=0,
"perjudicial"=1,
"ni perjudica ni beneficia"=2,
"beneficioso"=3))
proc_data$impacto_econom <- set_labels(proc_data$impacto_econom,
labels=c( "Ninguna"=0,
"perjudicial"=1,
"ni perjudica ni beneficia"=2,
"beneficioso"=3))
proc_data$impacto_laboral <- set_labels(proc_data$impacto_laboral,
labels=c( "Ninguna"=0,
"perjudicial"=1,
"ni perjudica ni beneficia"=2,
"beneficioso"=3))
proc_data$impacto_crimen <- set_labels(proc_data$impacto_crimen,
labels=c( "Ninguna"=0,
"perjudicial"=1,
"ni perjudica ni beneficia"=2,
"beneficioso"=3))
proc_data$impacto_cultural <- set_labels(proc_data$impacto_cultural,
labels=c( "Ninguna"=0,
"perjudicial"=1,
"ni perjudica ni beneficia"=2,
"beneficioso"=3))
#variable sexo.
proc_data$sexo <- car::recode(proc_data$sexo, "1=0;2=1")
proc_data$sexo <- factor(proc_data$sexo,
labels=c( "Hombre",
"Mujer"),
levels=c(0,1))
get_label(proc_data$sexo)
proc_data$sexo <- set_label(x = proc_data$sexo,label = "Sexo")
frq(proc_data$sexo)
#Revisamos edad.
get_label(proc_data$edad)
proc_data$edad <- set_label(x = proc_data$edad,label = "Edad")
proc_data %>% dplyr::group_by(sexo) %>% summarise(mean(percep_inmg, na.rm=TRUE))
library(sjPlot)
sjt.xtab(proc_data$sexo, proc_data$percep_inmg, encoding = "UTF-8")
view(dfSummary(proc_data, headings=FALSE))
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
Latinobarometro_2023_Esp_v1_0 <- proc_baro
dim(proc_baro)
#CORRELACIÓN.
M <- cor(proc_baro, use = "complete.obs")
M
#NA
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
sjPlot::tab_corr(proc_baro,
triangle = "lower")
#Visualización.
corrplot.mixed(M)
pacman::p_load(tidyverse, #Conjunto de paquetes, sobre todo dplyr y ggplot2
car, #Para recodificar
haven,
summarytools, #Para descriptivos
sjmisc,
psych)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(
P33N.A,
P33ST.B, # competir laboralmente
P33N.C, # aumento del crimen
P33N.D,
idenpa)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(
P33N.A,
P33ST.B, # competir laboralmente
P33N.C, # aumento del crimen
P33N.D,
idenpa)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(P33,
P33ST.B, # competir laboralmente
P33N.C, # aumento del crimen
P33N.D,
idenpa)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(economia, trabajo, crimen, carga)
head(proc_baro2)
#RECODIFICACIÓN: visualizamos 1 variable y vemos que los na se representan mediante -5.
proc_baro2 <- proc_baro2 %>% dplyr::filter(idenpa==152)
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
Latinobarometro_2023_Esp_v1_0 <- proc_baro
dim(proc_baro)
#CORRELACIÓN.
M <- cor(proc_baro, use = "complete.obs")
M
#NA
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
sjPlot::tab_corr(proc_baro,
triangle = "lower")
#Visualización.
corrplot.mixed(M)
pacman::p_load(tidyverse, #Conjunto de paquetes, sobre todo dplyr y ggplot2
car, #Para recodificar
haven,
summarytools, #Para descriptivos
sjmisc,
psych)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(economia, trabajo, crimen, carga)
head(proc_baro2)
proc_baro2 <- proc_baro2 %>% dplyr::filter(idenpa==152)
View(Latinobarometro_2023_Esp_v1_0)
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
Latinobarometro_2023_Esp_v1_0 <- proc_baro
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0
dim(proc_baro)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0
dim(proc_baro)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
proc_baro <- Latinobarometro_2023_Esp_v1_0
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
View(proc_baro)
View(proc_baro)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
#CORRELACIÓN.
M <- cor(proc_baro, use = "complete.obs")
M
#NA
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
#NA
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
sjPlot::tab_corr(proc_baro,
triangle = "lower")
#Visualización.
corrplot.mixed(M)
pacman::p_load(tidyverse, #Conjunto de paquetes, sobre todo dplyr y ggplot2
car, #Para recodificar
haven,
summarytools, #Para descriptivos
sjmisc,
psych)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(economia, trabajo, crimen, carga)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(economia, trabajo, crimen, carga)
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
#CORRELACIÓN.
M <- cor(proc_baro, use = "complete.obs")
M
#NA
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
sjPlot::tab_corr(proc_baro,
triangle = "lower")
#Visualización.
corrplot.mixed(M)
pacman::p_load(tidyverse, #Conjunto de paquetes, sobre todo dplyr y ggplot2
car, #Para recodificar
haven,
summarytools, #Para descriptivos
sjmisc,
psych)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(economia, trabajo, crimen, carga)
head(proc_baro2)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- proc_baro %>% select(economia, trabajo, crimen, carga)
head(proc_baro2)
#ESTIMAR CORRELACIÓN.
cor(proc_baro2)
#ALPHA DE CHROBACH.
psych::alpha(proc_baro2)
proc_baro2 <- proc_baro2 %>%
rowwise() %>%
mutate(Percepcion_inmigracion = sum(P33N.A, P33ST.B, P33N.C, P33N.D))
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- proc_baro %>% select(economia, trabajo, crimen, carga)
pacman::p_load(tidyverse, #Conjunto de paquetes, sobre todo dplyr y ggplot2
car, #Para recodificar
haven,
summarytools, #Para descriptivos
sjmisc,
psych)
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- proc_baro %>% select(P33)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(P33N.A, P33ST.B, P33N.C, P33N.D)
head(proc_baro2)
proc_baro2 <- proc_baro2 %>% dplyr::filter(idenpa==152)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(P33N.A, P33ST.B, P33N.C, P33N.D, idenpa)
proc_baro2 <- proc_baro2 %>% dplyr::filter(idenpa==152)
table(proc_baro2$P33N.D)
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#ESTIMAR CORRELACIÓN.
cor(proc_baro2)
#ALPHA DE CHROBACH.
psych::alpha(proc_baro2)
#ALPHA DE CHROBACH.
psych::alpha(proc_baro2)
#ESTIMAR CORRELACIÓN.
cor(proc_baro2)
#ALPHA DE CHROBACH.
psych::alpha(proc_baro2)
proc_baro2 <- proc_baro2 %>%
rowwise() %>%
mutate(Percepcion_inmigracion = sum(P33N.A, P33ST.B, P33N.C, P33N.D))
proc_baro2 <- proc_baro2 %>%
rowwise() %>%
mutate(Percepcion_inmigracion = sum(P33N.A, P33ST.B, P33N.C, P33N.D))
summary(proc_baro2$Percepcion_inmigracion)
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#ESTIMAR CORRELACIÓN.
cor(proc_baro2)
proc_baro2 <- proc_baro2 %>%
rowwise() %>%
mutate(Percepcion_inmigracion = sum(P33N.A, P33ST.B, P33N.C, P33N.D))
summary(proc_baro2$Percepcion_inmigracion)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(P33N.A, P33ST.B, P33N.C, P33N.D, idenpa)
proc_baro2 <- proc_baro2 %>% dplyr::filter(idenpa==152)
proc_baro2$P32INN <- car::recode(proc_baro2$P32INN, "1=3; 2=2; 3=1; 4=0")
proc_baro2$P33N.A <- car::recode(proc_baro2$P33N.A, "1=3; 2=2; 3=1; 4=0")
proc_baro2$P33ST.B <- car::recode(proc_baro2$P33ST.B, "1=3; 2=2; 3=1; 4=0")
proc_baro2$P33N.C <- car::recode(proc_baro2$P33N.C, "1=3; 2=2; 3=3; 4=0")
proc_baro2$P33N.D <- car::recode(proc_baro2$P33N.D, "1=3; 2=2; 3=1; 4=0")
table(proc_baro2$P33N.D)
#Quitamos los na (-5) de otra form
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#Quitamos los na (-5) de otra form
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#ESTIMAR CORRELACIÓN.
cor(proc_baro2)
#ALPHA DE CHROBACH.
psych::alpha(proc_baro2)
proc_baro2 <- proc_baro2 %>%
rowwise() %>%
mutate(Percepcion_inmigracion = sum(P33N.A, P33ST.B, P33N.C, P33N.D))
summary(proc_baro2$Percepcion_inmigracion)
table(proc_baro2$P33N.D)
pacman::p_load(tidyverse, #Conjunto de paquetes, sobre todo dplyr y ggplot2
car, #Para recodificar
haven,
summarytools, #Para descriptivos
sjmisc,
psych)
Latinobarometro_2023 <- load("C:/Users/Acer/OneDrive - Universidad Alberto Hurtado/Escritorio/R studio y complementos/Trabajo2_OFCRGIT/input/Latinobarometro_2023_Esp_Rdata_v1_0.rdata")
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(P33N.A, P33ST.B, P33N.C, P33N.D, idenpa)
proc_baro2 <- proc_baro2 %>% dplyr::filter(idenpa==152)
head(proc_baro2)
table(proc_baro2$P33N.D)
#Quitamos los na (-5) de otra form
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#Quitamos los na (-5) de otra form
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#ESTIMAR CORRELACIÓN.
cor(proc_baro2)
#ALPHA DE CHROBACH.
psych::alpha(proc_baro2)
#SELECCION VARIABLES PARA ESCALA.
proc_baro2 <- Latinobarometro_2023_Esp_v1_0 %>% select(P33N.A, P33ST.B, P33N.C, P33N.D, idenpa)
proc_baro2 <- proc_baro2 %>% dplyr::filter(idenpa==152)
head(proc_baro2)
#ORDENAR CATEGORIAS.
#reordenar categorias.
proc_data$P32INN <- car::recode(proc_data$P32INN, "1=3; 2=2; 3=1; 4=0")
#ORDENAR CATEGORIAS.
#reordenar categorias.
proc_baro2$P32INN <- car::recode(proc_baro2$P32INN, "1=3; 2=2; 3=1; 4=0")
#ORDENAR CATEGORIAS.
#reordenar categorias.
proc_baro2$P33N.A <- car::recode(proc_baro2$P33N.A, "1=3; 2=2; 3=1; 4=0")
proc_baro2$P33ST.B <- car::recode(proc_baro2$P33ST.B, "1=1; 2=2; 3=3; 4=0")
proc_baro2$P33N.C <- car::recode(proc_baro2$P33N.C, "1=1; 2=2; 3=3; 4=0")
proc_baro2$P33N.D <- car::recode(proc_baro2$P33N.D, "1=3; 2=2; 3=1; 4=0")
table(proc_baro2$P33N.D)
#Quitamos los na (-5) de otra form
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#Quitamos los na (-5) de otra form
proc_baro2 <- proc_baro2 %>%
set_na(., na = c(-5)) %>%
na.omit()
#ESTIMAR CORRELACIÓN.
cor(proc_baro2)
#ALPHA DE CHROBACH.
psych::alpha(proc_baro2)
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
pacman::p_load(dplyr, # Manipulacion datos
sjmisc, # Descriptivos
sjPlot, # Tablas
sjlabelled, #etiquetas
kableExtra, #Tablas
GGally, # Correlaciones
corrplot) # Correlaciones
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% dplyr::filter(idenpa==152)
#Selección de una variable numérica y 6 categóricas.
proc_baro <- Latinobarometro_2023_Esp_v1_0 %>% select(edad=edad, economia=P33N.A, trabajo=P33ST.B, crimen=P33N.C, carga=P33N.D)
#reordenar categorias para que todas sean intuitivas y así, no nos den valores negativos en el raw_alpha. Recordar que están reordenadas de diferentes maneras porque las preguntas no se formularon de forma neutral.
proc_baro2$P33N.A <- car::recode(proc_baro2$P33N.A, "1=3; 2=2; 3=1; 4=0")
proc_baro2$P33ST.B <- car::recode(proc_baro2$P33ST.B, "1=1; 2=2; 3=3; 4=0")
proc_baro2$P33N.C <- car::recode(proc_baro2$P33N.C, "1=1; 2=2; 3=3; 4=0")
proc_baro2$P33N.D <- car::recode(proc_baro2$P33N.D, "1=3; 2=2; 3=1; 4=0")
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
#CORRELACIÓN.
M <- cor(proc_baro, use = "complete.obs")
M
#NA
proc_baro <- na.omit(proc_baro)
dim(proc_baro)
sjPlot::tab_corr(proc_baro,
triangle = "lower")
#Visualización.
corrplot.mixed(M)
